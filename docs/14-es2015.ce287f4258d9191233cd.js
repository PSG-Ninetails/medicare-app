(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"h/QX":function(t,e,i){"use strict";i.r(e),i.d(e,"DoctoroptionsPageModule",(function(){return u}));var o=i("ofXK"),n=i("3Pt+"),s=i("TEn/"),r=i("tyNb"),a=i("mrSG"),c=i("fXoL"),d=i("NcWD"),b=i("FKlg");function h(t,e){if(1&t){const t=c.Mb();c.Lb(0,"ion-item"),c.Lb(1,"ion-card"),c.Lb(2,"ion-card-header"),c.Lb(3,"ion-card-subtitle"),c.ic(4,"Time : 10:9:40"),c.Kb(),c.Lb(5,"ion-card-title"),c.ic(6),c.Kb(),c.Kb(),c.Lb(7,"ion-card-content"),c.Lb(8,"p"),c.ic(9),c.Kb(),c.Lb(10,"ion-button",9),c.Tb("click",(function(){c.dc(t);const i=e.$implicit;return c.Vb().openreply(i)})),c.ic(11,"Reply"),c.Kb(),c.Kb(),c.Kb(),c.Kb()}if(2&t){const t=e.$implicit,i=c.Vb();c.yb(6),c.kc("Patient : ",t.patient_name,""),c.yb(3),c.kc("Problem : ",t.patient_problem,""),c.yb(1),c.Yb("hidden",!i.ishidden)}}const p=[{path:"",component:(()=>{class t{constructor(t,e,i,o,n,s){this.formBuilder=t,this.router=e,this.doctorservice=i,this.route=o,this.patientservice=n,this.toastController=s,this.doo_fetched={$key:"",username:"",password:"",dtype:"",area:"",name:"",prb:[],apt:[],available:!1},this.aid="",this.pat_fetch={$key:"",username:"",password:"",name:"",contact:"",prescription:[],recentlyvisited:[],apt:[]},this.selectedPatient={patient_id:"",patient_name:"",patient_problem:""},this.pres={id:"",aid:"",dtype:"",area:"",dname:"",prb:""},this.route.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.doo=this.router.getCurrentNavigation().extras.state.doc1_key),console.log(this.doo)}),this.aidForm=this.formBuilder.group({Aid:[""]})}ngOnInit(){this.ishidden=!0,this.doctorservice.getDoctor(this.doo).valueChanges().subscribe(t=>{this.doo_fetched=t,console.log(this.doo_fetched)}),this.patientservice.getPatients().snapshotChanges().subscribe(t=>{this.patients=[],t.forEach(t=>{let e=t.payload.toJSON();e.$key=t.key,this.patients.push(e)})})}back(){this.router.navigateByUrl("doctor")}openreply(t){this.ishidden=!1,this.selectedPatient=t,this.patientservice.getPatient(this.selectedPatient.patient_id).valueChanges().subscribe(t=>{this.pat_fetch=t})}sendtopatient(){this.pres.aid=this.aidForm.get("Aid").value,this.pres.id=this.doo,this.pres.dtype=this.doo_fetched.dtype,this.pres.area=this.doo_fetched.area,this.pres.dname=this.doo_fetched.name,this.pres.prb=this.selectedPatient.patient_problem,console.log(this.pres),this.pat_fetch.prescription.push(this.pres),this.patientservice.updatePatients(this.pat_fetch,this.selectedPatient.patient_id),this.presentToast1(),this.ishidden=!0}presentToast1(){return Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:"Prescription Sent to Patient Successfully.",position:"middle",color:"primary",duration:2e3})).present()}))}}return t.\u0275fac=function(e){return new(e||t)(c.Ib(n.a),c.Ib(r.g),c.Ib(d.a),c.Ib(r.a),c.Ib(b.a),c.Ib(s.T))},t.\u0275cmp=c.Cb({type:t,selectors:[["app-doctoroptions"]],decls:15,vars:3,consts:[["slot","end"],["slots","icon-only",3,"click"],["name","arrow-back-circle"],[4,"ngFor","ngForOf"],[3,"hidden"],[3,"formGroup"],["color","light"],["placeholder","Aid to Problem.","formControlName","Aid"],["shape","round","size","small","color","danger",3,"click"],["shape","round","size","small","color","danger",3,"hidden","click"]],template:function(t,e){1&t&&(c.Lb(0,"ion-header"),c.Lb(1,"ion-toolbar"),c.Jb(2,"ion-title"),c.Lb(3,"ion-buttons",0),c.Lb(4,"ion-button",1),c.Tb("click",(function(){return e.back()})),c.Jb(5,"ion-icon",2),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Lb(6,"ion-content"),c.Lb(7,"ion-list"),c.hc(8,h,12,3,"ion-item",3),c.Lb(9,"div",4),c.Lb(10,"form",5),c.Lb(11,"ion-item",6),c.Jb(12,"ion-input",7),c.Lb(13,"ion-button",8),c.Tb("click",(function(){return e.sendtopatient()})),c.ic(14,"Send"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb()),2&t&&(c.yb(8),c.Yb("ngForOf",e.doo_fetched.prb),c.yb(1),c.Yb("hidden",e.ishidden),c.yb(1),c.Yb("formGroup",e.aidForm))},directives:[s.r,s.K,s.J,s.f,s.e,s.s,s.m,s.w,o.j,n.k,n.h,n.c,s.u,s.t,s.S,n.g,n.b,s.g,s.i,s.j,s.k,s.h],styles:[""]}),t})()},{path:"doctor",loadChildren:()=>Promise.all([i.e(0),i.e(2)]).then(i.bind(null,"0Flv")).then(t=>t.DoctorPageModule)}];let l=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(p)],r.i]}),t})(),u=(()=>{class t{}return t.\u0275mod=c.Gb({type:t}),t.\u0275inj=c.Fb({factory:function(e){return new(e||t)},imports:[[o.c,n.d,n.j,s.L,l]]}),t})()}}]);